<!DOCTYPE html>
<html lang="en">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  
  
  
  
  
  <link rel="prev" href="https://fantasyplayer.link/program/%E5%85%B3%E4%BA%8E%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E7%9A%84%E4%B8%80%E7%82%B9%E5%B0%8F%E6%83%B3%E6%B3%95/" />
  
  <link rel="canonical" href="https://fantasyplayer.link/program/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E5%BB%BA%E8%AE%AE/" />
  <link rel='shortcut icon' type='image/x-icon' href='/favicon.ico' />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           代码规范建议 | Fanstasy Player / 幻想系玩家
       
  </title>
  <meta name="title" content="代码规范建议 | Fanstasy Player / 幻想系玩家">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="代码规范建议"/>
<meta name="twitter:description" content="笔者在公司里面写的内容，本文经过部分删减。
命名规范 # 1. 属性/成员 命名   静态常量属性 即使用 static final 修饰的属性， 属性名全部大写并添加javadoc的注释。 比如下面的例子
  /** * 消息的线程数量 */ public static final int MSG_THREAD_NUM = 8; /** * redis 连接池的 线程数量 */ public static final int REDIS_CONNECTION_POOL_SIZE = 4;     私有的实例属性 采用 驼峰命名法。 并需要使用单行注释 简单说明下含义、
 经常出现的变量名可以不写注释。 Map Or MapSubMap 需要写明 key 和 value的含义。 如果是关键字开头的命名，比如 do ,for 可用_ 下划线开头， 比如_forConsole, _doWorkTime 尽量不要使用这种关键字开头的命名 😄。    方法名采用 驼峰命名法， 并需要添加 javadoc 注释， 在必要的时候 也需要写明参数的含义。"/>

  <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "代码规范建议",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https:\/\/fantasyplayer.link\/program\/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E5%BB%BA%E8%AE%AE\/"
  },
  "image": {
    "@type": "ImageObject",
    "url": "https:\/\/fantasyplayer.link\/cover.png",
    "width":  800 ,
    "height":  600 
  },
  "genre": "program",
  
  "wordcount":  249 ,
  "url": "https:\/\/fantasyplayer.link\/program\/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E5%BB%BA%E8%AE%AE\/",
  "datePublished": "2020-12-07T18:48:17\x2b08:00",
  "dateModified": "2020-12-07T18:48:17\x2b08:00",
  
  "publisher": {
    "@type": "Organization",
    "name": "hideDragon",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/fantasyplayer.link\/logo.png",
      "width":  127 ,
      "height":  40 
    }
  },
  "author": {
    "@type": "Person",
    "name": "hideDragon"
  },
  "description": ""
}
</script>
</head>

  



  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="https://fantasyplayer.link/">Fanstasy Player / 幻想系玩家</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/program/" title="">Program</a>
                
                <a class="menu-item" href="/caprice/" title="">Caprice</a>
                
                <a class="menu-item" href="/periphery/" title="">Periphery</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
                <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-sun"></i></a>&nbsp;
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-sun"></i></a>&nbsp;<a href="https://fantasyplayer.link/">Fanstasy Player / 幻想系玩家</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/program/" title="">Program</a>
                
                <a class="menu-item" href="/caprice/" title="">Caprice</a>
                
                <a class="menu-item" href="/periphery/" title="">Periphery</a>
                
                <a class="menu-item" href="/about" title="">About</a>
                
        </div>
    </div>
</nav>

    	 <main class="main">
          <div class="container">
      		
<article class="post-warp">
    <header class="post-header">
        <h1 class="post-title">代码规范建议</h1>
        <div class="post-meta">
            Written by <a href="https://fantasyplayer.link/" rel="author">hideDragon</a> with ♥ 
                <span class="post-time">
                    on <time datetime=2020-12-07 >7 December 2020</time>
                </span>
                in
                
                <i class="iconfont icon-timer"></i>
                2 min
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          <p>笔者在公司里面写的内容，本文经过部分删减。</p>
<h2 id="命名规范">命名规范</h2>
<h4 id="-1-属性成员-命名"># 1. 属性/成员 命名</h4>
<ul>
<li>
<p>静态常量属性 即使用 <code>static final</code> 修饰的属性， 属性名全部大写并添加javadoc的注释。 比如下面的例子</p>
<ul>
<li>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * 消息的线程数量
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> MSG_THREAD_NUM <span style="color:#f92672">=</span> 8<span style="color:#f92672">;</span>
    
    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * redis 连接池的 线程数量
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> REDIS_CONNECTION_POOL_SIZE <span style="color:#f92672">=</span> 4<span style="color:#f92672">;</span>
    
</code></pre></div></li>
</ul>
</li>
<li>
<p>私有的实例属性 采用 驼峰命名法。   并需要使用单行注释 简单说明下含义、</p>
<ul>
<li>经常出现的变量名可以不写注释。</li>
<li><code>Map</code> Or <code>MapSubMap</code> 需要写明 <code>key</code> 和 <code>value</code>的含义。</li>
<li>如果是关键字开头的命名，比如 <code>do</code> ,<code>for</code> 可用<code>_</code> 下划线开头， 比如<code>_forConsole</code>, <code>_doWorkTime</code> <em>尽量不要使用这种关键字开头的命名 😄</em>。</li>
</ul>
</li>
<li>
<p>方法名采用 驼峰命名法， 并需要添加 javadoc 注释， 在必要的时候 也需要写明参数的含义。</p>
</li>
<li>
<p>公有静态变量， 首字母大写。 私有的静态属性采用驼峰命名法。</p>
</li>
</ul>
<h4 id="-2-选取有意义的命名"># 2. 选取有意义的命名</h4>
<ul>
<li>要选取有意义的名称。
<ul>
<li>下面的名称是<strong>可取</strong>的 👍👍👍
<ul>
<li><code>PlayerInfo getPlayer(String roleId);    // 1</code></li>
<li><code>PlayerInfo getPlayerByRoleId(String str);       //  2</code></li>
</ul>
</li>
<li>下面的名称是 <strong>不可取</strong>的  🙅‍♂️🙅‍♂️🙅‍♂️
<ul>
<li><code>PlayerInfo getPlayer(String str);      // 3</code></li>
<li><code>PlayerInfo getPlayerByString(String str);     // 4</code></li>
</ul>
</li>
</ul>
</li>
<li>上述示例中， 1和2 都是自解释的方法签名， 一看就知道该方法的作用是根据roleId获取一个玩家对象。</li>
<li>3和4 则不是自解释的。 我们目前无法得知参数需要的是roleId 还是 roleName， 亦或是其他什么属性。
<ul>
<li>这时候如果方法还没有注释， 我们就必须要打开源代码去确认方法的作用了。</li>
</ul>
</li>
<li>有意义的类名也比较重要。
<ul>
<li><code>ConfigManager</code> 和 <code>SessionManager</code> 就是比较有意义的名称。 如果我们需要一个配置文件的数据，我们将会知道从<code>ConfigManager</code>中获取，而非<code>SessionManager</code>。</li>
<li>同样，如果我们需要给某个玩家发送消息，则我们知道<code>SessionManager</code>类里面应该有这样一个方法。</li>
<li>如果你看不懂上述说明， 则你<em>可能</em>需要加强一下你的英语了。
<ul>
<li><code>Config - 配置; 配置文件; 布局;</code></li>
<li><code>Session - 会话; 会议; 会期;</code></li>
<li>上述内容来自 <code>网易有道词典</code></li>
</ul>
</li>
<li>相对来说， 如果把玩家会话相关的内容放到一个叫做<code>BananaManager</code> 的类里面， 看到的人可能就会非常困惑：  我们项目里面有香蕉吗？ 为什么要管理香蕉？    而在使用的时候，也增加了记忆的负担。</li>
</ul>
</li>
<li>如果一个类里面的功能过于复杂， 起一个有意义的类名 可能就比较困难了。此时，较好的做法是根据逻辑或者其他规则划分类的内容 进行重构。</li>
<li>还有一种做法是笔者特别讨厌的。。  即 复制代码的时候只修改内容，不修改名称。
<ul>
<li>如果一个方法的内容和你的需求类似， 但不完全相同。 首选的处理方式是 以添加参数或者拆分方法的形式进行处理， 而非复制一份，然后稍微修改下。</li>
<li>如果你非要复制一份进行修改， 也是可以的（<em>非常勉强的情况下 才能视为 可以</em>）。 当出现这种情况的时候，你<strong>一定要</strong>修改方法的名字。</li>
<li>比如一个在类A里方法：<code>List&lt;PlayerInfo&gt; findPlayers(String roleId);</code>   你将它复制到了类B里面的时候，把检测roleId的地方换成了 roleName, 但是你却没有修改方法名。 当这种情况出现的时候， 别人在使用这些方法的时候就会出错， 他们同样也会很困惑。</li>
<li>笔者有个同事简直更离谱，有时候方法名和方法内容会出现完全没有关系情况， 当笔者问他的时候，他会回答说『哦，我复制的』😶😶😶  （<em>该同事目前已经离开了笔者所在的公司。</em>）</li>
</ul>
</li>
</ul>
<h2 id="其他要点">其他要点</h2>
<h3 id="-1注释"># 1.注释</h3>
<p><strong>规则</strong></p>
<ul>
<li>
<p>注释部分是一定要写的， 但是不必写的特别详细。</p>
</li>
<li>
<p>一般来说， 除非方法名是自解释的，否则一定要加上注释。  参数名若有歧义也需要加上注释。</p>
</li>
<li>
<p>类的实例属性也需要加上注释。  使用 <code>//</code> 的单行注释即可</p>
</li>
<li>
<p>类，类的实例方法， 静态方法，静态属性<em>尽量</em>加上注释， 注释采用 <code>javadoc</code>的风格。 若名称带有歧义，则<em>一定</em> 要加上注释。</p>
</li>
<li>
<p>方法内的逻辑若十分复杂， 流程较长也需要添加注释。</p>
</li>
<li>
<p>数据库里的数据表字段， 也需要适当的添加注释。</p>
</li>
<li>
<p>对于部分<code>int</code>类型字段， 可能需要添加释义。  比如<code>性别： 0未知，1女，2男等</code></p>
</li>
<li>
<p>对于部分<code>Map</code> 类型的字段， 需要指定Key以及Value的含义。 比如<code>玩家会话map,  key: 玩家id, value: 会话信息</code></p>
</li>
</ul>
<p><strong>好处</strong></p>
<p><em>这里用小A代指一个写了注释的同事。</em></p>
<ul>
<li>
<p>在同事B接手小A的工作的时候，同事B不需要和小A有太多交流就可以完成他的工作。  这样节省了小A和同事B两人的时间。 ⏱️⏱️⏱️</p>
</li>
<li>
<p>在同事B需要调用小A写的接口的时候，也不需要打扰到小A。 这同样会节省较多时间。</p>
</li>
<li>
<p>节省了时间意味着什么呢？</p>
<ul>
<li>你完全可以不用加班， 或者只需要少量加班。</li>
<li>当你在上班的时候空闲了下来， 你可以去学习一些新技术， 去聊天群吹水， 甚至看看小说漫画。</li>
<li>项目周期可能会缩短一些， 也<em>可能</em>会提前拿到一些奖金。</li>
</ul>
</li>
<li>
<p>注释可以帮助小A 更好的回忆几个月之前写的逻辑。</p>
</li>
<li>
<p>在小A因为某些原因辞职的时候，甚至不需要写交接文档，辞职需要的时间也大大的缩减了。</p>
</li>
</ul>
<h3 id="-2代码块"># 2.代码块</h3>
<ul>
<li>代码分块， <strong>不要</strong>全部的逻辑写在一起， <strong>不要</strong>写成一大坨的样子。
<ul>
<li>基本的分块逻辑是按照类别和功能划分，  比如声明语句放在一些， 一个小功能的内容放在一起。  中间使用一行空行分割。 声明语句块之外的其他代码块  应该<strong>适当</strong>的添加一些单行注释，表明<strong>下面</strong>的代码是用来做什么的。</li>
<li>如果可以的话， 分成若干个小方法也可以。</li>
<li>这样做的好处是 便于观看，修改。 （<em>我想，你也不愿意修了1个bug,又添加了3个把。。</em>）</li>
</ul>
</li>
<li><code>if,else, while, for</code> 等关键字，都需要添加 <code>{}</code>用于区分。 <strong>即使关键字后只有一条语句也需要添加。</strong>
<ul>
<li>这样做会使代码风格统一，   且不会出现不必要的麻烦或者问题。</li>
<li>使用<code>Idea</code>的时候，快捷键<code>CMD/CTRL+SHIFT+ENTER</code> 会自动追加 <code>{}</code>  也不需要手动添加。</li>
</ul>
</li>
</ul>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>hideDragon </span>
                </p>
            
           
            <p class="copyright-item">
                    <span>Words:</span>
                   <span>249</span>
            </p>
            
            <p class="copyright-item">
                
                <span>Share:</span>
                <span>

      
        <a href="//twitter.com/share?url=https%3a%2f%2ffantasyplayer.link%2fprogram%2f%25E4%25BB%25A3%25E7%25A0%2581%25E8%25A7%2584%25E8%258C%2583%25E5%25BB%25BA%25E8%25AE%25AE%2f&amp;text=%e4%bb%a3%e7%a0%81%e8%a7%84%e8%8c%83%e5%bb%ba%e8%ae%ae&amp;via=Aincvy" target="_blank" title="Share on Twitter">
          <i class="iconfont icon-twitter"></i>
        </a>
        
      
      
        <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ffantasyplayer.link%2fprogram%2f%25E4%25BB%25A3%25E7%25A0%2581%25E8%25A7%2584%25E8%258C%2583%25E5%25BB%25BA%25E8%25AE%25AE%2f" target="_blank" title="Share on Facebook">
          <i class="iconfont icon-facebook"></i>
        </a>
        
      
      
      
      
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2ffantasyplayer.link%2fprogram%2f%25E4%25BB%25A3%25E7%25A0%2581%25E8%25A7%2584%25E8%258C%2583%25E5%25BB%25BA%25E8%25AE%25AE%2f&amp;title=%e4%bb%a3%e7%a0%81%e8%a7%84%e8%8c%83%e5%bb%ba%e8%ae%ae" target="_blank" title="Share on LinkedIn">
          <i class="iconfont icon-linkedin"></i>
        </a>
        
      
      
        
      
        
      

          

          

          
        <a href="//www.douban.com/recommend/?url=https%3a%2f%2ffantasyplayer.link%2fprogram%2f%25E4%25BB%25A3%25E7%25A0%2581%25E8%25A7%2584%25E8%258C%2583%25E5%25BB%25BA%25E8%25AE%25AE%2f&amp;title=%e4%bb%a3%e7%a0%81%e8%a7%84%e8%8c%83%e5%bb%ba%e8%ae%ae" target="_blank" title="Share on Douban ">
            <i class="iconfont icon-douban"></i>
          </a>
          

          
</span>
                
            </p>

             
            <p class="copyright-item">
                Released under <a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a>
            </p>
            
    </div>

  
    <div class="post-tags">
        
        <section>
                <a href="javascript:window.history.back();">Back</a></span> · 
                <span><a href="https://fantasyplayer.link/">Home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://fantasyplayer.link/program/%E5%85%B3%E4%BA%8E%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E7%9A%84%E4%B8%80%E7%82%B9%E5%B0%8F%E6%83%B3%E6%B3%95/" class="prev" rel="prev" title="关于单元测试的一点小想法"><i class="iconfont icon-dajiantou"></i>&nbsp;关于单元测试的一点小想法</a>
         
        
    </div>

    <div class="post-comment">
          
          
    <script src="https://utteranc.es/client.js"
            repo="Aincvy/aincvy.github.io"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>

 

          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2020 - 2020</span>
        
         
            <span class="author" itemprop="copyrightHolder"><a href="https://fantasyplayer.link/">hideDragon</a> | </span>
         

		  <span>Crafted with ❤️ by <a href="https://github.com/Fastbyte01/KeepIt" target="_blank" rel="external nofollow noopener noreffer">KeepIt</a> & <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreffer">Hugo</a></span>
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  







     </div>
  </body>
</html>

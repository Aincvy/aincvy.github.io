# è‡ªåˆ¶è„šæœ¬è¯­è¨€[2] ç±»åž‹ç›¸å…³å†…å®¹çš„ä»‹ç»


æœ¬ç¯‡æ¥æè¿°ä¸€ä¸‹ ç±»åž‹ç›¸å…³çš„å†…å®¹ã€‚



è„šæœ¬è¯­è¨€å¼•æ“Žéœ€è¦æä¾›ä¸€äº›åŸºæœ¬ç±»åž‹å’Œè‡³å°‘ä¸€ä¸ªå¤æ‚ç±»åž‹çš„æŠ½è±¡(ç±»ï¼Œè¡¨ç­‰)ã€‚



## åŸºæœ¬ç±»åž‹

å°±æ‹¿JAVAè¯­è¨€çš„åŸºæœ¬ç±»åž‹æ¥ä¸¾ä¾‹ï¼š `boolean,byte,char,short,int,long,float,double` 

å…¶ä¸­çš„æ¯ä¸€ä¸ªç±»åž‹éƒ½æ˜¯åŸºæœ¬å…ƒç´ ï¼ŒåŸºæœ¬ä¸Šåœ¨ä½¿ç”¨çš„æ—¶å€™ä¸ä¼šæ‹†åˆ†æˆæ›´å°çš„ç±»åž‹ã€‚

é™¤äº†ä¸Šè¿°çš„å…³äºŽæ•°å€¼çš„ç±»åž‹ä¹‹å¤–ï¼Œ å¸¸ç”¨çš„è¿˜æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ç±»åž‹ã€‚  ï¼ˆ*åœ¨Javaä¸­ å­—ç¬¦ä¸²ä¸ç®—åŸºæœ¬ç±»åž‹ã€‚ç®—å¼•ç”¨ç±»åž‹ã€‚ä½†åœ¨è¯»è€…è‡ªå·±å¼€å‘çš„è„šæœ¬è¯­è¨€ä¸­ï¼Œåˆ™å¯ä»¥è‡ªå·±å®šä¹‰ã€‚*ï¼‰

ç¬”è€…åœ¨langXä¸­å®šä¹‰çš„åŸºæœ¬ç±»åž‹æœ‰ä¸‹é¢å‡ ä¸ªï¼š

- æ•°å€¼ç±»åž‹ ï¼ˆæ•´æ•°ï¼Œ æµ®ç‚¹æ•°ï¼Œ å¸ƒå°”ï¼‰
- null ç±»åž‹
- å­—ç¬¦ä¸²ç±»åž‹
- æ•°ç»„
- å‡½æ•°

åˆ«çš„å¤æ‚ç±»åž‹åŸºæœ¬ä¸Šéƒ½éœ€è¦ä½¿ç”¨ä¸Šè¿°çš„ç±»åž‹è¿›è¡Œç»„æˆã€‚



## å¤æ‚ç±»åž‹çš„æŠ½è±¡

åŸºæœ¬ä¸Šå¯ä»¥ç†è§£ä¸ºJAVAé‡Œçš„ç±»ï¼Œ luaé‡Œçš„è¡¨ã€‚   

ä¸‹é¢è¯·çœ‹ä¸€ä¸ªJAVAçš„ä»£ç ç‰‡æ®µã€‚

```java
@Data
public class Student {
  // å”¯ä¸€ç¼–å·
  private int id;
  // å§“å
  private String name;
  // å¹´é¾„
  private int age;
  // æ˜¯å¦æ¯•ä¸šäº†
  private boolean graduation;
  
  public boolean isGraduation(){
  	return graduation;
  }
  
}
```

ä¸Šé¢æè¿°ä¸€ä¸ªå« `Student`çš„ç±»ï¼Œ å³ä¸€ä¸ªå¤æ‚ç±»åž‹ã€‚è¿™ä¸ªç±»ç”±å­—æ®µï¼Œæ–¹æ³•ï¼Œæ³¨è§£ç»„æˆï¼Œå…¶ä¸­å¤§éƒ¨åˆ†å­—æ®µä½¿ç”¨çš„åŸºæœ¬ç±»åž‹ï¼Œ è¿˜æœ‰éƒ¨åˆ†å­—æ®µä½¿ç”¨çš„æ˜¯å¤æ‚ç±»åž‹ï¼ˆ*å­—ç¬¦ä¸²*ï¼‰ã€‚ 

è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªå…·ä½“çš„å¤æ‚ç±»åž‹ï¼Œ ä¸ºäº†ä½¿è„šæœ¬è¯­è¨€å¼•æ“Žå¯ä»¥æ”¯æŒè¿™ä¸ªå¤æ‚ç±»åž‹ï¼Œ æˆ‘ä»¬éœ€è¦å®žçŽ°ä¸€å¥—æœºåˆ¶ã€‚ è¿™å¥—æœºåˆ¶å¯ä»¥è¡¨è¿°ä¸€ä¸ªå¤æ‚ç±»åž‹ã€‚ 

ä¸‹é¢æ˜¯ä¸€æ®µç¤ºä¾‹ä»£ç ï¼ˆ*ä¼ªä»£ç * ï¼‰

```plain
å­—æ®µç±» {
	è®¿é—®é™åˆ¶ç¬¦ ;
	å­—æ®µç±»åž‹ ;
	å­—æ®µå ;
}

ç±»åž‹ç±» {
	å­—æ®µåˆ—è¡¨ ;
	æ–¹æ³•åˆ—è¡¨ ;       // èŠ‚çœç¯‡å¹…ï¼Œçœç•¥äº†æ–¹æ³•ç±» 
	æ³¨è§£åˆ—è¡¨ ;       // åŒä¸Š  ï¼ˆå…¶å®žå°±æ˜¯æ‡’ ðŸ¤£ðŸ¤£ðŸ¤£ ï¼‰
}
```

*å› ä¸ºç¬”è€…çš„è„šæœ¬è¯­è¨€å¼•æ“Žä½¿ç”¨çš„ c++å®žçŽ°ï¼Œ æ‰€ä»¥åœ¨åç§°åŽé¢åŠ ä¸Šäº†ä¸€ä¸ªâ€œç±»â€ã€‚ä»¥è¡¨è¿°è¯¥ä¼ªä»£ç æè¿°çš„æ˜¯ä¸€ä¸ªc++ç±»*

ä½¿ç”¨ä¸Šé¢çš„ä¼ªä»£ç å¯ä»¥è¡¨è¿° `Student`ç±»ï¼Œ åŸºæœ¬ä¸Šä¹Ÿå°±å¯ä»¥è¡¨ç¤ºä»»ä½•çš„å¤æ‚ç±»åž‹ã€‚è¿™æ ·ï¼Œè„šæœ¬è¯­è¨€å¼•æ“Žå°±å¯ä»¥æ”¯æŒå¤æ‚ç±»åž‹äº†ã€‚ 

å¦‚æžœè¯»è€…åªæ˜¯æƒ³å®žçŽ°ä¸€ä¸ªéžå¸¸ç®€å•çš„è„šæœ¬è¯­è¨€ï¼Œæˆ–è€…DSLç”¨ä½œé…ç½®çš„è¯ï¼Œ åˆ™å¯ä»¥è€ƒè™‘ä¸å®žçŽ°è¿™ä¸ªï¼Œ è€Œæ˜¯å®žçŽ°å…·ä½“çš„ç±»åž‹ã€‚ä¹‹åŽåœ¨è§£é‡Šçš„æ—¶å€™ï¼Œ ä¸€ä¸ªå­—æ®µå¯¹åº”ä¸€ä¸ªå­—æ®µçš„è¯»å–ã€‚ 

å¦‚æžœåªæ˜¯ç”¨ä½œäºŽé…ç½®æ–‡ä»¶ï¼Œ å¹¶ä¸”è¯»è€…ä½¿ç”¨JAVAçš„è¯ï¼Œ ä½¿ç”¨ json/yaml ä¹‹ç±»çš„å¯èƒ½æ›´åˆé€‚ã€‚ ï¼ˆå› ä¸ºJAVAå­˜åœ¨åå°„æœºåˆ¶ï¼Œæ‰€ä»¥å¯ä»¥å¾ˆæ–¹ä¾¿çš„è‡ªåŠ¨èµ‹å€¼ã€‚ï¼‰

ä½†æ˜¯å¦‚æžœå­˜åœ¨é€»è¾‘çš„è¯ï¼Œ å¯èƒ½json/yaml å°±ä¸æ˜¯å¾ˆå¥½ä½¿ç”¨äº†ã€‚ï¼ˆæ¯”å¦‚åˆ†æ”¯è¯­å¥ï¼Œ å¾ªçŽ¯è¯­å¥ç­‰ã€‚ï¼‰



## æ€»ç»“

æœ¬ç¯‡åªæ˜¯å¤§æ¦‚çš„ä»‹ç»äº†ä¸€ä¸‹ç±»åž‹åº”è¯¥æ€Žä¹ˆåšã€‚ å…·ä½“æ€Žä¹ˆæ ·åŽ»åšå¯èƒ½éœ€è¦è¯»è€…èŠ±æ—¶é—´åŽ»å°è¯•ã€‚



è¿™é‡Œåœ¨å®žçŽ°åŸºæœ¬ç±»åž‹çš„æ—¶å€™ æœ‰ä¸€äº›å‚è€ƒæ€§çš„æŒ‡å¯¼å†…å®¹ã€‚ 

- ä½¿ç”¨ç±»ç»§æ‰¿çš„æ–¹å¼ï¼Œ æ¯”å¦‚å®šä¹‰ä¸€ä¸ª `Object`çš„åŸºç±»ã€‚ ä¹‹åŽå®šä¹‰ä¸€ä¸ª`Number` ç±»ï¼Œè¡¨ç¤ºæ•°å€¼ï¼Œå¹¶ç»§æ‰¿è‡ª`Object` ã€‚ å®šä¹‰ä¸€ä¸ª`Null` ç±»ï¼Œ ç»§æ‰¿ `Object`

  - æ•°ç»„ï¼Œå‡½æ•°ï¼Œ å¯¹è±¡ å¯èƒ½æœ‰ç‚¹ç‰¹æ®Šã€‚ ç¬”è€…åœ¨å®žçŽ°langXçš„æ—¶å€™ä½¿ç”¨äº†ä¸‹é¢çš„åšæ³•ã€‚ 
  - åˆ†åˆ«å®šä¹‰`Array/Function/langXObject` è¡¨ç¤ºå¯¹åº”çš„å…·ä½“æ•°æ®ï¼Œ ä½†æ˜¯è¿™äº›ç±»å¹¶ä¸ç»§æ‰¿`Object`ã€‚ 
  - å®šä¹‰æ–°çš„ç±»åž‹`ArrayRef/FunctionRef/langXObjectRef` æ¥è¡¨ç¤ºå¯¹ä¸Šè¿°ç±»åž‹çš„å¼•ç”¨ã€‚ è¿™äº›å¼•ç”¨åˆ™ç»§æ‰¿è‡ª`Object`ã€‚
  - è¿™æ ·åšçš„åŽŸå› åœ¨åŽé¢ç« èŠ‚è¯´åˆ° â€œèŠ‚ç‚¹çš„å€¼â€ çš„æ—¶å€™ä¼šè¿›è¡Œè§£é‡Šã€‚

- ä½¿ç”¨ä¸€äº›å†…å­˜æŠ€å·§ã€‚ 

  - c/c++ çš„å†…å­˜å¸ƒå±€é‡Œé¢æ²¡æœ‰å¤šä½™çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œå¼ºåˆ¶ç±»åž‹è½¬æ¢ã€‚ 

  - ```cpp
    // ä¸‹é¢ä»£ç çš„çµæ„Ÿæ¥è‡ªäºŽ luaæºä»£ç çš„é˜…è¯»ï¼Œ ç¬”è€…å¹¶æœªçœŸå®žå®žè·µ
    // è¿™é‡Œåªæ˜¯ç»™è¯»è€…ä¸€äº›æ€è·¯
    
    struct NumberType {
      int type;
      double value;
    }
    
    struct NullType {
      int type;
    }
    
    struct StringType{
      int type;
      int len;
      char *value;
    }
    
    #define isNull(x)  ((struct NullType*)x)->type == 1 
    #define isNumber(x)  ((struct NullType*)x)->type == 2
    #define isString(x)  ((struct NullType*)x)->type == 3
    
    void *ptr = ... ;   // ... èŽ·å–å€¼çš„ä»£ç è¿›è¡Œäº†çœç•¥
    
    if(isNull(ptr) ){
    	// null
    } else if (isNumber(ptr)){
    	auto value = ((struct NumberType*)ptr)->value;
      // ...
    } else if (isString(ptr)) {
      auto stringPtr = (struct StringType*) ptr;
    	// ...
    }
    
    ```

  -  ä½¿ç”¨ä¸Šé¢çš„æŠ€å·§ å¯ä»¥é¿å…å®šä¹‰ç±»åž‹ã€‚  ç®€å•æ¥è¯´ï¼Œè¿™ä¸ªæŠ€å·§å°±æ˜¯ï¼š ä½¿ç»“æž„çš„å‰å‡ ä¸ªå­—æ®µç±»åž‹ç›¸åŒã€‚







---

> ä½œè€…: Aincvy  
> URL: https://fantasyplayer.link/non-menu/self-programming-lang/%E8%87%AA%E5%88%B6%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%802-%E7%B1%BB%E5%9E%8B%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%E7%9A%84%E4%BB%8B%E7%BB%8D/  


<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Fanstasy Player / 幻想系玩家</title>
    <link>https://fantasyplayer.link/</link>
    <description>个人博客， 技术博客， 思想分享，开发日志。</description>
    <generator>Hugo 0.150.0 &amp; FixIt v0.4.0-alpha.2-20251114075837-113ad247</generator>
    <language>zh-CN</language>
    <managingEditor>aincvy@gmail.com (Aincvy)</managingEditor>
    <webMaster>aincvy@gmail.com (Aincvy)</webMaster>
    <lastBuildDate>Tue, 02 Sep 2025 21:31:47 +0800</lastBuildDate>
    <atom:link href="https://fantasyplayer.link/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Mattermost中文搜索不生效的问题处理</title>
      <link>https://fantasyplayer.link/periphery/mattermost%E4%B8%AD%E6%96%87%E6%90%9C%E7%B4%A2%E4%B8%8D%E7%94%9F%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86/</link>
      <pubDate>Tue, 02 Sep 2025 21:31:47 +0800</pubDate><author>aincvy@gmail.com (Aincvy)</author>
      <guid>https://fantasyplayer.link/periphery/mattermost%E4%B8%AD%E6%96%87%E6%90%9C%E7%B4%A2%E4%B8%8D%E7%94%9F%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86/</guid>
      <description>&lt;p&gt;原因是pgsql 默认不支持 中文分词搜索，所以调整一下数据库就可以了&lt;br&gt;&#xA;官方文档可见：  &lt;a href=&#34;https://docs.mattermost.com/administration-guide/configure/enabling-chinese-japanese-korean-search.html&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://docs.mattermost.com/administration-guide/configure/enabling-chinese-japanese-korean-search.html&lt;/a&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;手动编译数据库插件然后启动太麻烦了，所以笔者直接使用的别人build好的镜像： &lt;code&gt;abcfy2/zhparser:13-alpine&lt;/code&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;镜像来源可见  &lt;a href=&#34;https://hub.docker.com/r/abcfy2/zhparser&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://hub.docker.com/r/abcfy2/zhparser&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;docker compose 里调整一下 image 即可， 别的都不需要变动&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;启动数据库&lt;/li&gt;&#xA;&lt;li&gt;在数据库里执行sql 语句开启一下扩展&lt;/li&gt;&#xA;&lt;li&gt;重启一下mattermost 就可以使用中文搜索了&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;数据库执行的语句参考&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$&amp;ensp;&lt;span class=&#34;c1&#34;&gt;#&amp;ensp;在&amp;ensp;mattermost&amp;ensp;的&amp;ensp;docker&amp;ensp;compose&amp;ensp;目录里面执行&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$&amp;ensp;sudo&amp;ensp;docker&amp;ensp;compose&amp;ensp;&lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt;&amp;ensp;-it&amp;ensp;postgres&amp;ensp;/bin/bash&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$&amp;ensp;psql&amp;ensp;-U&amp;ensp;mmuser&amp;ensp;-d&amp;ensp;mattermost&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&amp;ensp;下面是sql&amp;ensp;语句&amp;ensp;部分&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;--&amp;ensp;初始化插件&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CREATE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;EXTENSION&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zhparser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CREATE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;TEXT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SEARCH&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CONFIGURATION&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chinese_zh&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PARSER&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zhparser&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ALTER&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;TEXT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SEARCH&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CONFIGURATION&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chinese_zh&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ADD&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAPPING&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FOR&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WITH&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;simple&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--&amp;ensp;重建索引&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;--&amp;ensp;删除消息内容的英文索引&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;DROP&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;INDEX&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idx_posts_message_txt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--&amp;ensp;删除标签的英文索引&amp;ensp;&amp;ensp;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;DROP&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;INDEX&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idx_posts_hashtags_txt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--&amp;ensp;为消息内容创建中文全文搜索索引&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CREATE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;INDEX&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idx_posts_message_txt&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ON&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posts&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;USING&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gin&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to_tsvector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese_zh&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;regconfig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--&amp;ensp;为标签创建中文全文搜索索引&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CREATE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;INDEX&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idx_posts_hashtags_txt&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ON&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posts&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;USING&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gin&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to_tsvector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese_zh&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;regconfig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hashtags&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--&amp;ensp;查看索引是否创建成功&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posts&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;--&amp;ensp;测试中文搜索功能&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;posts&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WHERE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to_tsvector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese_zh&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;@@&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to_tsquery&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;chinese_zh&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;测试&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;记得一定要重启一下 mattermost 实例。&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>Macbook差点变砖得事件记录</title>
      <link>https://fantasyplayer.link/periphery/macbook%E5%B7%AE%E7%82%B9%E5%8F%98%E7%A0%96%E5%BE%97%E4%BA%8B%E4%BB%B6%E8%AE%B0%E5%BD%95/</link>
      <pubDate>Tue, 12 Aug 2025 21:56:18 +0800</pubDate><author>aincvy@gmail.com (Aincvy)</author>
      <guid>https://fantasyplayer.link/periphery/macbook%E5%B7%AE%E7%82%B9%E5%8F%98%E7%A0%96%E5%BE%97%E4%BA%8B%E4%BB%B6%E8%AE%B0%E5%BD%95/</guid>
      <description>&lt;p&gt;因为mbp 比较老旧， 安装了新版系统之后很卡， 简直不能使用， 所以想退回旧版本的系统。&lt;br&gt;&#xA;于是从 app store 里面下载了 big sur, 然后使用命令  &lt;code&gt;sudo&amp;ensp;/Applications/Install\&amp;ensp;macOS\&amp;ensp;Big\&amp;ensp;Sur.app/Contents/Resources/createinstallmedia&amp;ensp;--volume&amp;ensp;/Volumes/MyVolume&lt;/code&gt; 创建了镜像，但是创建之前笔者没格式化U盘，后面在系统启动选项上看不到这个U盘 （不知道是不是没格式化得影响）&lt;/p&gt;&#xA;&lt;p&gt;随后笔者重启， 按住option 键进入恢复模式。  恢复模式里面，笔者把原来的磁盘直接格式化了。   但是格式化之后  ， 笔者无法从U盘中启动， 笔者的启动项上看不到这个U盘。。    这个时候笔者可以选择直接使用网络重新安装系统， 但是安装得系统是 macos 15 得， 就是抹掉磁盘上相同得系统版本， 笔者觉得这样做又绕回去了， 所以没这样操作，而是直接重启了系统。&#xA;随后笔者重启， 按住option 键进入恢复模式。  恢复模式里面，笔者把原来的磁盘直接格式化了。   但是格式化之后  ， 笔者无法从U盘中启动， 笔者的启动项上看不到这个U盘。。    这个时候笔者可以选择直接使用网络重新安装系统， 但是安装得系统是 macos 15 Sequoia得， 就是抹掉磁盘上相同得系统版本， 笔者觉得这样做又绕回去了， 所以没这样操作，而是直接重启了系统。&lt;/p&gt;&#xA;&lt;p&gt;重启系统之后， 磁盘上没文件了， U盘不识别为启动盘， 所以直接找不到磁盘了， 所幸能连接WiFi,然后从网络上下载一个小得镜像， 然后进入恢复模式。   但是问题在于， 此时下载得网络镜像是出厂自带得那个版本。   这个版本得从网络安装系统， 安装得是10.13 High Sierra 系统。  笔者点击安装之后， 提示说无法连接到服务器， 应该是苹果把这个镜像给干掉了。&lt;/p&gt;&#xA;&lt;p&gt;笔者用Windows机器查看U盘后发现， U盘有一个EFI 分区， 但是这个分区得内容是 ventoy得， 可能是安装命令看到笔者有EFI分区之后就没处理这个分区， 然后当前得EFI分区和另外一个分区得内容是不匹配得。&lt;/p&gt;&#xA;&lt;p&gt;随后折腾了几遍， 笔者发现 在恢复模式里面可以直接成功的挂载存在 big sur 镜像的分区。  随后笔者使用命令 &lt;code&gt;/Volumes/U盘名称/Install\&amp;ensp;macOS\&amp;ensp;Big\&amp;ensp;Sur.app/Contents/Resources/startosinstall&amp;ensp;--volume&amp;ensp;/Volume/Macintosh&amp;ensp;HD&lt;/code&gt; 安装了系统， 安装总共耗时几十分钟。&lt;/p&gt;&#xA;&lt;p&gt;使用了几天，笔者发现系统自带得中文输入法还是卡，主要体现在从英文换到中文，或者隔一段时间之后首次输入中文得时候会卡个1秒左右， 切换到中州韵之后就好了。&lt;/p&gt;&#xA;&lt;p&gt;参考链接：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://support.apple.com/en-hk/101578&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://support.apple.com/en-hk/101578&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;</description>
    </item>
    <item>
      <title>Windows实现wireguard自动重连</title>
      <link>https://fantasyplayer.link/periphery/windows%E5%AE%9E%E7%8E%B0wireguard%E8%87%AA%E5%8A%A8%E9%87%8D%E8%BF%9E/</link>
      <pubDate>Tue, 05 Aug 2025 22:08:16 +0800</pubDate><author>aincvy@gmail.com (Aincvy)</author>
      <guid>https://fantasyplayer.link/periphery/windows%E5%AE%9E%E7%8E%B0wireguard%E8%87%AA%E5%8A%A8%E9%87%8D%E8%BF%9E/</guid>
      <description>&lt;p&gt;笔者家里得公网IP是非固定得， 所以使用DDNS 来实现域名得动态解析， 笔者使用wireguard来和其他电脑组成内网。&lt;/p&gt;&#xA;&lt;p&gt;这种操作下有一个致命得问题， 那就是DDNS变化之后， wireguard 会断网， 同时它不会自动重连。。&lt;/p&gt;&#xA;&lt;p&gt;所以这时候就需要有一个Windows 脚本来监控链接， 如果网络断开了得话， 就自动重连一下。&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;#&amp;ensp;PingMonitor.ps1&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;#&amp;ensp;Requires&amp;ensp;-Version&amp;ensp;3.0&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;#&amp;ensp;目标&amp;ensp;IP&amp;ensp;与要重启的服务名&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$target&lt;/span&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;s1&#34;&gt;&amp;#39;192.168.1.1&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$svcToRestart&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;s1&#34;&gt;&amp;#39;WireGuardTunnel$home-wg&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;#&amp;ensp;上次重启时间初始化为一个很久以前的时间&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$lastRestart&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nb&#34;&gt;Get-Date&lt;/span&gt;&amp;ensp;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1970-01-01&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$minInterval&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;no&#34;&gt;TimeSpan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FromSeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;vm&#34;&gt;$true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;c&#34;&gt;#&amp;ensp;测试连通性&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;nv&#34;&gt;$ok&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nb&#34;&gt;Test-Connection&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;-ComputerName&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nv&#34;&gt;$target&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;-Count&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;1&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;-Quiet&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;-TimeoutSeconds&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;5&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-not&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nv&#34;&gt;$ok&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;nv&#34;&gt;$now&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nb&#34;&gt;Get-Date&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$now&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nv&#34;&gt;$lastRestart&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&lt;span class=&#34;o&#34;&gt;-ge&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nv&#34;&gt;$minInterval&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;c&#34;&gt;#&amp;ensp;重启服务&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;k&#34;&gt;try&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;nb&#34;&gt;Restart-Service&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;-Name&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nv&#34;&gt;$svcToRestart&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;-Force&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;-ErrorAction&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;Stop&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;nb&#34;&gt;Write-Output&lt;/span&gt;&amp;ensp;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;:&amp;ensp;无法&amp;ensp;ping&amp;ensp;通&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$target&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;，已重启服务&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$svcToRestart&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&amp;ensp;&lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;nb&#34;&gt;Write-Output&lt;/span&gt;&amp;ensp;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$now&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;:&amp;ensp;重启服务&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$svcToRestart&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;ensp;失败：&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$_&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;nv&#34;&gt;$lastRestart&lt;/span&gt;&amp;ensp;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&amp;ensp;&lt;span class=&#34;nv&#34;&gt;$now&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;c&#34;&gt;#&amp;ensp;每&amp;ensp;5&amp;ensp;秒检测一次，可根据需要调整&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;span class=&#34;nb&#34;&gt;Start-Sleep&lt;/span&gt;&amp;ensp;&lt;span class=&#34;n&#34;&gt;-Seconds&lt;/span&gt;&amp;ensp;&lt;span class=&#34;mf&#34;&gt;5&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;解释说明：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;$target 是 家里得任意服务得IP地址， 只要 wireguard连接后是可以ping通得就可以， 也可以用wiregurad 服务器得地址&lt;/li&gt;&#xA;&lt;li&gt;$svcToRestart  是要重启得服务， 对于wireguard来说，重启服务就会产生重连操作。  它得服务名格式是： &lt;code&gt;WireGuardTunnel$[隧道名字]&lt;/code&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;更具体名字可以这样找到： 按下 Windows 键， 输入 &lt;code&gt;服务&lt;/code&gt;  打开服务列表， 然后找到类似 &lt;code&gt;WireGuardTunnel$home-wg&lt;/code&gt; 这种得名字， 就是要重启得服务名&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;把这个脚本保存一下， 比如保存到 &lt;code&gt;D:\Documents\PingMonitor.ps1&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;现在可以打开一个powershell 窗口， 执行这个脚本了。&lt;/p&gt;&#xA;&lt;p&gt;手动执行脚本得方法固然可以用， 但是每次开机都需要操作一遍， 万一不小心关了窗口也是问题， 所以可以考虑把这个脚本做成一个服务。&lt;/p&gt;&#xA;&lt;p&gt;开源项目  &lt;a href=&#34;https://github.com/winsw/winsw&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://github.com/winsw/winsw&lt;/a&gt;  可以将任意程序， 脚本封装成 Windows 服务。  从项目 Releases 里面找到 Pre-Release 3.x 得版本， 下载一下。 然后将文件重命名成 &lt;code&gt;winsw.exe&lt;/code&gt;&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;service&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;nt&#34;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;WireGuardHomeTunnelMonitor&lt;span class=&#34;nt&#34;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;nt&#34;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;WireGuard&amp;ensp;Home&amp;ensp;Tunnel&amp;ensp;Monitor&lt;span class=&#34;nt&#34;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;nt&#34;&gt;&amp;lt;description&amp;gt;&lt;/span&gt;监控&amp;ensp;192.168.1.1，可用性检查失败则重启&amp;ensp;WireGuardTunnel$home-wg&lt;span class=&#34;nt&#34;&gt;&amp;lt;/description&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;nt&#34;&gt;&amp;lt;executable&amp;gt;&lt;/span&gt;C:\Program&amp;ensp;Files\PowerShell\7\pwsh.exe&lt;span class=&#34;nt&#34;&gt;&amp;lt;/executable&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;nt&#34;&gt;&amp;lt;arguments&amp;gt;&lt;/span&gt;-NoProfile&amp;ensp;-ExecutionPolicy&amp;ensp;Bypass&amp;ensp;-File&amp;ensp;&amp;#34;D:\Documents\PingMonitor.ps1&amp;#34;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/arguments&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;nt&#34;&gt;&amp;lt;startmode&amp;gt;&lt;/span&gt;Automatic&lt;span class=&#34;nt&#34;&gt;&amp;lt;/startmode&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;nt&#34;&gt;&amp;lt;stoptimeout&amp;gt;&lt;/span&gt;15sec&lt;span class=&#34;nt&#34;&gt;&amp;lt;/stoptimeout&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;nt&#34;&gt;&amp;lt;logpath&amp;gt;&lt;/span&gt;D:\Documents\logs&lt;span class=&#34;nt&#34;&gt;&amp;lt;/logpath&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&lt;span class=&#34;nt&#34;&gt;&amp;lt;logmode&amp;gt;&lt;/span&gt;rotate&lt;span class=&#34;nt&#34;&gt;&amp;lt;/logmode&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/service&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;将上面得脚本保存一下， 比如到&lt;code&gt;D:\WireGuardHomeTunnelMonitor.xml&lt;/code&gt; ，&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;然后执行命令 &lt;code&gt;winsw&amp;ensp;install&amp;ensp;D:\WireGuardHomeTunnelMonitor.xml&lt;/code&gt;  来安装服务&lt;/li&gt;&#xA;&lt;li&gt;然后执行命令 &lt;code&gt;winsw&amp;ensp;start&amp;ensp;D:\WireGuardHomeTunnelMonitor.xml&lt;/code&gt; 来启动服务&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;如果没安装过 powershell 7， 则可以从 &lt;a href=&#34;https://github.com/PowerShell/PowerShell&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://github.com/PowerShell/PowerShell&lt;/a&gt; 这里下载。&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>MCP结构得简要说明</title>
      <link>https://fantasyplayer.link/periphery/mcp%E7%BB%93%E6%9E%84%E5%BE%97%E7%AE%80%E8%A6%81%E8%AF%B4%E6%98%8E/</link>
      <pubDate>Wed, 16 Jul 2025 22:06:31 +0800</pubDate><author>aincvy@gmail.com (Aincvy)</author>
      <guid>https://fantasyplayer.link/periphery/mcp%E7%BB%93%E6%9E%84%E5%BE%97%E7%AE%80%E8%A6%81%E8%AF%B4%E6%98%8E/</guid>
      <description>&lt;h2 class=&#34;heading-element&#34; id=&#34;结构图&#34;&gt;&lt;span&gt;结构图&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#%e7%bb%93%e6%9e%84%e5%9b%be&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;&lt;em&gt;下图使用Claude生成。&lt;/em&gt;&lt;br&gt;&#xA;&lt;em&gt;下图使用mermaid插件渲染，可能需要点时间才会出现图片&lt;/em&gt;&lt;/p&gt;&#xA;&lt;pre class=&#34;mermaid&#34;&gt;&#xD;&#xA;graph&amp;ensp;TD&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;subgraph&amp;ensp;&#34;用户环境&#34;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;U[用户&amp;ensp;User]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;end&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;subgraph&amp;ensp;&#34;MCP&amp;ensp;客户端&amp;ensp;(MCP&amp;ensp;Client)&#34;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;C[客户端应用&lt;br/&gt;Client&amp;ensp;Application]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;CM[客户端管理器&lt;br/&gt;Client&amp;ensp;Manager]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;end&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;subgraph&amp;ensp;&#34;LLM&amp;ensp;服务&#34;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;LLM[大语言模型&lt;br/&gt;Large&amp;ensp;Language&amp;ensp;Model]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;API[LLM&amp;ensp;API&amp;ensp;接口]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;end&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;subgraph&amp;ensp;&#34;MCP&amp;ensp;服务器群&amp;ensp;(MCP&amp;ensp;Servers)&#34;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;S1[文件系统服务器&lt;br/&gt;File&amp;ensp;System&amp;ensp;Server]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;S2[数据库服务器&lt;br/&gt;Database&amp;ensp;Server]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;S3[API&amp;ensp;服务器&lt;br/&gt;API&amp;ensp;Server]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;S4[工具服务器&lt;br/&gt;Tool&amp;ensp;Server]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;end&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;subgraph&amp;ensp;&#34;外部资源&#34;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;FS[文件系统&lt;br/&gt;File&amp;ensp;System]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;DB[数据库&lt;br/&gt;Database]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;EXT[外部&amp;ensp;API&lt;br/&gt;External&amp;ensp;APIs]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;TOOLS[系统工具&lt;br/&gt;System&amp;ensp;Tools]&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;end&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;%%&amp;ensp;用户交互&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;U&amp;ensp;--&gt;|请求|&amp;ensp;C&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;C&amp;ensp;--&gt;|响应|&amp;ensp;U&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;%%&amp;ensp;客户端与LLM交互&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;C&amp;ensp;&lt;--&gt;|消息传递|&amp;ensp;LLM&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;LLM&amp;ensp;&lt;--&gt;|API调用|&amp;ensp;API&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;%%&amp;ensp;客户端管理MCP连接&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;CM&amp;ensp;--&gt;|MCP协议|&amp;ensp;S1&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;CM&amp;ensp;--&gt;|MCP协议|&amp;ensp;S2&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;CM&amp;ensp;--&gt;|MCP协议|&amp;ensp;S3&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;CM&amp;ensp;--&gt;|MCP协议|&amp;ensp;S4&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;%%&amp;ensp;客户端内部通信&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;C&amp;ensp;&lt;--&gt;&amp;ensp;CM&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;%%&amp;ensp;MCP服务器访问资源&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;S1&amp;ensp;&lt;--&gt;&amp;ensp;FS&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;S2&amp;ensp;&lt;--&gt;&amp;ensp;DB&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;S3&amp;ensp;&lt;--&gt;&amp;ensp;EXT&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;S4&amp;ensp;&lt;--&gt;&amp;ensp;TOOLS&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;%%&amp;ensp;LLM通过客户端调用MCP工具&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;LLM&amp;ensp;-.-&gt;|工具调用请求|&amp;ensp;C&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;C&amp;ensp;-.-&gt;|转发到MCP服务器|&amp;ensp;CM&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;classDef&amp;ensp;userClass&amp;ensp;fill:#e1f5fe&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;classDef&amp;ensp;clientClass&amp;ensp;fill:#f3e5f5&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;classDef&amp;ensp;llmClass&amp;ensp;fill:#fff3e0&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;classDef&amp;ensp;serverClass&amp;ensp;fill:#e8f5e8&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;classDef&amp;ensp;resourceClass&amp;ensp;fill:#fce4ec&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;class&amp;ensp;U&amp;ensp;userClass&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;class&amp;ensp;C,CM&amp;ensp;clientClass&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;class&amp;ensp;LLM,API&amp;ensp;llmClass&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;class&amp;ensp;S1,S2,S3,S4&amp;ensp;serverClass&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;class&amp;ensp;FS,DB,EXT,TOOLS&amp;ensp;resourceClass&lt;/pre&gt;&lt;/div&gt;&lt;h2 class=&#34;heading-element&#34; id=&#34;信息拆解&#34;&gt;&lt;span&gt;信息拆解&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#%e4%bf%a1%e6%81%af%e6%8b%86%e8%a7%a3&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;上图主要由五个部分组成：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;用户&lt;/li&gt;&#xA;&lt;li&gt;LLM&lt;/li&gt;&#xA;&lt;li&gt;MCP Client (客户端)&lt;/li&gt;&#xA;&lt;li&gt;MCP Servers (服务器群)&lt;/li&gt;&#xA;&lt;li&gt;外部资源， 如数据库，文件系统&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;下面三个部分，我们基本上都是已知得，所以跳过：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;用户&lt;/li&gt;&#xA;&lt;li&gt;LLM&lt;/li&gt;&#xA;&lt;li&gt;外部资源&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;所以关键点就剩下了两个：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;MCP Client (客户端)&lt;/li&gt;&#xA;&lt;li&gt;MCP Servers (服务器群)&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;由上图可以得知， 一个MCP Server 得核心作用就是和外部资源打交道。  MCP Server 应该是定义了一堆 Tool/Function 然后LLM 会调用这些 Tool。 这个功能一般叫做函数调用，  目前主流得LLM 都支持函数调用， 比如 gpt4o, gpt4.1, o4-mini, claude sonnet 4, gemini, deepseek v3/r1 等模型。&lt;/p&gt;&#xA;&lt;p&gt;虽然MCP Server 提供了这些 Tools， 但是 MCP Server 自身并不直接和LLM 打交道。  两者中间存在一个MCP Client的模块， MCP Client分成两个部分，一个是客户端应用，一个是客户端管理器。 MCP Client 得核心作用就是连接LLM, 用户和MCP Servers 。&lt;/p&gt;&#xA;&lt;p&gt;客户端管理器避免了每个客户端应用都需要连接到所有得MCP Servers。 其主要功能就是聚合所有得MCP Servers ， 然后提供接口给 客户端应用。  这样做得一个好处是 假如有3个客户端应用， 那么在新增一个MCP Server 得时候， 就只需要在客户端管理器得地方新增配置就可以了，否则3个客户端都需要添加。&lt;/p&gt;&#xA;&lt;p&gt;整体结构得大概运行流程是：&lt;/p&gt;&#xA;&lt;pre class=&#34;mermaid&#34;&gt;sequenceDiagram&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;participant&amp;ensp;A&amp;ensp;as&amp;ensp;用户&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;participant&amp;ensp;B&amp;ensp;as&amp;ensp;客户端应用&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;participant&amp;ensp;C&amp;ensp;as&amp;ensp;客户端管理器&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;participant&amp;ensp;D&amp;ensp;as&amp;ensp;LLM&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;participant&amp;ensp;E&amp;ensp;as&amp;ensp;MCP&amp;ensp;Server&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;participant&amp;ensp;F&amp;ensp;as&amp;ensp;外部资源&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;A-&gt;&gt;B:&amp;ensp;1.&amp;ensp;发送消息&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;B-&gt;&gt;D:&amp;ensp;2.&amp;ensp;转发消息给LLM&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;D-&gt;&gt;D:&amp;ensp;3.&amp;ensp;解析消息，决定调用Tool&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;D-&gt;&gt;B:&amp;ensp;4.&amp;ensp;发送Tool&amp;ensp;call指令&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;B-&gt;&gt;C:&amp;ensp;5.&amp;ensp;转发Tool&amp;ensp;call指令&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;C-&gt;&gt;E:&amp;ensp;6.&amp;ensp;路由到对应的MCP&amp;ensp;Server&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;E-&gt;&gt;F:&amp;ensp;7.&amp;ensp;调用外部资源接口&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;F-&gt;&gt;E:&amp;ensp;8.&amp;ensp;返回结果（如文件内容）&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;E-&gt;&gt;C:&amp;ensp;9.&amp;ensp;返回Tool&amp;ensp;call结果&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;C-&gt;&gt;B:&amp;ensp;10.&amp;ensp;转发结果&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;B-&gt;&gt;D:&amp;ensp;11.&amp;ensp;将结果发送给LLM&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;D-&gt;&gt;D:&amp;ensp;12.&amp;ensp;基于结果继续处理&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;D-&gt;&gt;B:&amp;ensp;13.&amp;ensp;发送最终响应&#xD;&#xA;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;B-&gt;&gt;A:&amp;ensp;14.&amp;ensp;展示结果给用户&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;文字解释说明：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;用户发送消息给客户端应用&lt;/li&gt;&#xA;&lt;li&gt;客户端应用将消息发送给LLM， LLM解析之后决定调用某个Tool， 比如读取文件 /home/abc/1.txt 得内容&lt;/li&gt;&#xA;&lt;li&gt;LLM将 Tool call 指令发送客户端应用&lt;/li&gt;&#xA;&lt;li&gt;客户端将 Tool call 指令发送给 客户端管理器， 然后客户端管理器找到 Tool call 对应得MCP Server 随后转发过去&lt;/li&gt;&#xA;&lt;li&gt;MCP Server 调用 外部资源得接口， 比如文件读取接口获取到文件内容。 随后将文件内容一路转发到LLM&lt;/li&gt;&#xA;&lt;li&gt;LLM 根据 Tool call 调用得结果继续“思考” 然后将响应发送给客户端应用&lt;/li&gt;&#xA;&lt;li&gt;客户端应用将结果展示给用户&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;</description>
    </item>
    <item>
      <title>Void - 一个Cursor 的开源代替产品 的体验记录</title>
      <link>https://fantasyplayer.link/periphery/void---cursor-%E7%9A%84%E5%BC%80%E6%BA%90%E4%BB%A3%E6%9B%BF%E4%BA%A7%E5%93%81-%E7%9A%84%E4%BD%93%E9%AA%8C%E8%AE%B0%E5%BD%95/</link>
      <pubDate>Tue, 01 Jul 2025 21:02:31 +0800</pubDate><author>aincvy@gmail.com (Aincvy)</author>
      <guid>https://fantasyplayer.link/periphery/void---cursor-%E7%9A%84%E5%BC%80%E6%BA%90%E4%BB%A3%E6%9B%BF%E4%BA%A7%E5%93%81-%E7%9A%84%E4%BD%93%E9%AA%8C%E8%AE%B0%E5%BD%95/</guid>
      <description>&lt;p&gt;项目地址是：  &lt;a href=&#34;https://github.com/voideditor/void&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://github.com/voideditor/void&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;直接说结果把， 结果就是使用Ollama 搭建的各种小模型表现都不好。 但是 Deepseek 官方的 deepseek-reasoner 模型是可以使用的，表现也不错。&#xA;笔者尝试的小模型有：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;qwen3:14b&lt;/li&gt;&#xA;&lt;li&gt;deepseek-r1:14b&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;笔者尝试使用这个从0开始创建了一个简单的控制台程序，是可以正常创建的。&lt;/p&gt;&#xA;&lt;p&gt;如下操作花费了我2.5元的 deepseek：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;创建一个学生管理系统， 使用控制台UI， 数据保存到csv文件里面。&lt;/li&gt;&#xA;&lt;li&gt;创建一个考试管理系统， 和学生管理系统类似的结构。&lt;/li&gt;&#xA;&lt;li&gt;调整考试类型成使用lombok&lt;/li&gt;&#xA;&lt;li&gt;添加一个ServiceManager类型， 并且将UI 拆分，先选择是考试还是学生管理， 再进入新的子项。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;这些操作花费的时间并不是特别长，做出来的东西也能用。 如果我让它使用jpa， 以及提供spring boot 的restful 接口，花费和时间和现在这个应该也不会相差太多。&lt;/p&gt;&#xA;&lt;p&gt;合起来使用了55.1万token（包括命中缓存的输入，未命中缓存的输入，以及输出的总的）&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;我感觉花费很高， 本地模型用不了真的太伤了。。 为什么我说花费很高呢，因为项目代码多了之后，每次修改和新增功能的时候，token使用量应该都暴增很多。。&lt;/em&gt;&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>让docker compose 挂载一个smb远程目录</title>
      <link>https://fantasyplayer.link/periphery/%E8%AE%A9docker-compose.yaml%E6%8C%82%E8%BD%BD%E4%B8%80%E4%B8%AAsmb%E8%BF%9C%E7%A8%8B%E7%9B%AE%E5%BD%95/</link>
      <pubDate>Wed, 18 Jun 2025 22:31:29 +0800</pubDate><author>aincvy@gmail.com (Aincvy)</author>
      <guid>https://fantasyplayer.link/periphery/%E8%AE%A9docker-compose.yaml%E6%8C%82%E8%BD%BD%E4%B8%80%E4%B8%AAsmb%E8%BF%9C%E7%A8%8B%E7%9B%AE%E5%BD%95/</guid>
      <description>&lt;h2 class=&#34;heading-element&#34; id=&#34;主要内容&#34;&gt;&lt;span&gt;主要内容&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#%e4%b8%bb%e8%a6%81%e5%86%85%e5%ae%b9&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;下面看一个简短的示例，这个示例说明了如何挂载一个smb目录到docker 容器里面。&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;immich-server&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;container_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;immich_server&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ghcr.io/immich-app/immich-server:${IMMICH_VERSION:-release}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;l&#34;&gt;UPLOAD_SMB:/usr/src/app/upload&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;UPLOAD_SMB&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#driver:&amp;ensp;local&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;driver_opts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;cifs&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;device&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;//192.168.200.23/音频/immich&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;username=yohello,password=******,vers=3.0&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;详细解释：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;device 写 smb 的服务地址以及目录位置。 如果使用主机名可能不行， 使用ip地址最保险&lt;/li&gt;&#xA;&lt;li&gt;o 是参数选项，  username 是用户名， password 是密码，  vers 是版本&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;基本上这样就可以挂载这个目录到 docker 容器里面了。&lt;/p&gt;&#xA;&lt;p&gt;在挂载之前需要安装 &lt;code&gt;cifs-utils&lt;/code&gt; , 如果没安装的话， 可以使用命令&lt;code&gt;sudo&amp;ensp;apt-get&amp;ensp;install&amp;ensp;cifs-utils&lt;/code&gt; 进行安装。&lt;/p&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;其他&#34;&gt;&lt;span&gt;其他&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#%e5%85%b6%e4%bb%96&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;需要注意一个问题是如果挂载失败了， 卷是不会随着&lt;code&gt;docker&amp;ensp;compose&amp;ensp;down&lt;/code&gt; 而被删除的， 需要手动找到这个卷， 然后删除， 这样才会在 执行 &lt;code&gt;docker&amp;ensp;compose&amp;ensp;up&amp;ensp;-d&lt;/code&gt; 的时候，使用新的参数进行重新创建。&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>使用acme.sh申请ssl证书，以及自动续期</title>
      <link>https://fantasyplayer.link/periphery/%E4%BD%BF%E7%94%A8acme.sh%E7%94%B3%E8%AF%B7ssl%E8%AF%81%E4%B9%A6%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%8A%A8%E7%BB%AD%E6%9C%9F/</link>
      <pubDate>Sun, 04 May 2025 12:39:54 +0800</pubDate><author>aincvy@gmail.com (Aincvy)</author>
      <guid>https://fantasyplayer.link/periphery/%E4%BD%BF%E7%94%A8acme.sh%E7%94%B3%E8%AF%B7ssl%E8%AF%81%E4%B9%A6%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%8A%A8%E7%BB%AD%E6%9C%9F/</guid>
      <description>&lt;p&gt;acme.sh 有一个docker 镜像，直接拉取镜像，然后部署即可。&lt;/p&gt;&#xA;&lt;p&gt;下面看一下 acme.sh 的 docker-compose 配置文件&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;acme-sh&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;neilpang/acme.sh&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;container_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;acme.sh&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;l&#34;&gt;./out:/acme.sh&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;l&#34;&gt;/home/debian/docker-compose/nginx/data/mkcerts/acme:/nginx-data&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;l&#34;&gt;/var/run/docker.sock:/var/run/docker.sock&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#network_mode:&amp;ensp;host&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;daemon&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;stdin_open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;restart&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;always&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;l&#34;&gt;Ali_Key=&amp;lt;YOUR_ALIYUN_KEY&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;l&#34;&gt;Ali_Secret=&amp;lt;YOUR_ALIYUN_SECRET&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;l&#34;&gt;DEPLOY_DOCKER_CONTAINER_LABEL=sh.acme.autoload.domain=aincvy.com&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;l&#34;&gt;DEPLOY_DOCKER_CONTAINER_RELOAD_CMD=nginx&amp;ensp;-s&amp;ensp;reload&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&#xA;&lt;li&gt;笔者是使用 阿里云DNS API 去认证域名的&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Ali_Key  填写阿里云申请到的KEY&lt;/li&gt;&#xA;&lt;li&gt;Ali_Secret  填写阿里云申请到的 secret&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;支持的全部DNS API 列表可以在这里找到：  &lt;a href=&#34;https://github.com/acmesh-official/acme.sh/wiki/dnsapi&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://github.com/acmesh-official/acme.sh/wiki/dnsapi&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;下面是 nginx 的 docker-compose 配置文件&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;3.1&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;web&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;nginx:1.25&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;restart&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;always&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;container_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nginx&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;TZ&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Asia/Shanghai&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;s1&#34;&gt;&amp;#39;80:80&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;s1&#34;&gt;&amp;#39;443:443&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;s1&#34;&gt;&amp;#39;./data/etc:/etc/nginx&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;s1&#34;&gt;&amp;#39;./data/html:/usr/share/nginx/html&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;s1&#34;&gt;&amp;#39;./data/mkcerts:/root/cert&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;s1&#34;&gt;&amp;#39;./data/root-certs:/root/.local/share/mkcert&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;l&#34;&gt;sh.acme.autoload.domain=aincvy.com&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;nginx 的 labels 和 acme.sh 中的 &lt;code&gt;DEPLOY_DOCKER_CONTAINER_LABEL&lt;/code&gt; 标签的值保持了一致。&lt;/p&gt;&#xA;&lt;p&gt;还需要添加 docker hook 才能实现 证书renew之后自动重载证书。 命令为： &lt;code&gt;docker&amp;ensp;exec&amp;ensp;acme.sh&amp;ensp;--deploy&amp;ensp;-d&amp;ensp;aincvy.com&amp;ensp;--deploy-hook&amp;ensp;docker&lt;/code&gt;&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>Mattermost安卓手机消息推送折腾</title>
      <link>https://fantasyplayer.link/periphery/mattermost%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E6%8A%98%E8%85%BE/</link>
      <pubDate>Sun, 09 Mar 2025 14:45:43 +0800</pubDate><author>aincvy@gmail.com (Aincvy)</author>
      <guid>https://fantasyplayer.link/periphery/mattermost%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E6%8A%98%E8%85%BE/</guid>
      <description>&lt;h2 class=&#34;heading-element&#34; id=&#34;简述&#34;&gt;&lt;span&gt;简述&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#%e7%ae%80%e8%bf%b0&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;Mattermost 得消息通知在ios平台上可以很即时得收到， 但是安卓手机上无论如何也无法收到通知， 折腾了一番之后可以在适当得延迟之后获取到通知了。&lt;/p&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;主要内容&#34;&gt;&lt;span&gt;主要内容&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#%e4%b8%bb%e8%a6%81%e5%86%85%e5%ae%b9&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;Mattermost 得消息通知是基于 谷歌 FCM得， 所以消息无法到达得原因需要从两个部分来看， 一个是消息有发送到 FCM吗，另外一个是FCM有发送到手机吗。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;第一个问题，消息有发送到 FCM吗？&lt;/strong&gt;&lt;br&gt;&#xA;Mattermost 得 System Console 界面里面有一段是 Push Notification Server 得设置， 默认设置得是 mattermost 提供得推送服务器，这个一般都是可以访问到得。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;第二个问题，FCM有发送到手机吗？&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;笔者使用得是三星S24国行版手机。&lt;/p&gt;&#xA;&lt;p&gt;经过一些探查， 笔者发现确实是手机没有收到推送消息。&lt;/p&gt;&#xA;&lt;p&gt;帖子 &lt;a href=&#34;https://www.v2ex.com/t/981806&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://www.v2ex.com/t/981806&lt;/a&gt;  介绍了一个工具， 这个工具可以查看哪些应用支持 FCM， 以及 FCM的当前连接状态。&lt;/p&gt;&#xA;&lt;p&gt;当具备以下条件时便可收到 消息推送&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;手机需要先安装 google play service&lt;/li&gt;&#xA;&lt;li&gt;FCM需要显示为成功连接&lt;/li&gt;&#xA;&lt;li&gt;需要把Mattermost得电量限制设置为不受限制，或者优化。&lt;/li&gt;&#xA;&lt;li&gt;梯子工具将选项&lt;code&gt;允许其他应用绕过VPN&lt;/code&gt; &lt;strong&gt;关闭&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;开启梯子工具&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;上面得帖子上有说， 三星国行系统会检测能不能连上谷歌，如果无法连接，则会自动断开FCM得连接。   需要注意得是 FCM 本身是没被墙得。&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;把FCM折腾好了之后， 所有基于FCM进行消息推送得软件得通知都可以收得到了。&lt;/em&gt;&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>Windows美化工具与实用工具</title>
      <link>https://fantasyplayer.link/periphery/windows%E7%BE%8E%E5%8C%96%E5%B7%A5%E5%85%B7%E4%B8%8E%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/</link>
      <pubDate>Sun, 09 Mar 2025 14:21:54 +0800</pubDate><author>aincvy@gmail.com (Aincvy)</author>
      <guid>https://fantasyplayer.link/periphery/windows%E7%BE%8E%E5%8C%96%E5%B7%A5%E5%85%B7%E4%B8%8E%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/</guid>
      <description>&lt;h2 class=&#34;heading-element&#34; id=&#34;美化&#34;&gt;&lt;span&gt;美化&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#%e7%be%8e%e5%8c%96&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#39;https://fantasyplayer.link/img/periphery/windhawk_desktop.png&#39; alt=&#34;Windhawk Desktop&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;项目地址：  &lt;a href=&#34;https://windhawk.net/&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://windhawk.net/&lt;/a&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;这个工具有很多mod 可以下载， 下面是一些笔者在用得：&lt;/li&gt;&#xA;&lt;li&gt;任务栏上调&lt;/li&gt;&#xA;&lt;li&gt;缩小任务栏高度以及任务图标尺寸&lt;/li&gt;&#xA;&lt;li&gt;开始菜单始终在左边&lt;/li&gt;&#xA;&lt;li&gt;通知提示上调&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;其他美化工具参考：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://droptopfour.com/&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://droptopfour.com/&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;这个是一个顶部得dock 栏， 但是在笔者得4K显示器上显示有点模糊， 并且有点卡顿。&lt;/li&gt;&#xA;&lt;li&gt;这个是收费得， 但是有免费版本&lt;/li&gt;&#xA;&lt;li&gt;这个是基于Rainmeter 得&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://www.mydockfinder.com/&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://www.mydockfinder.com/&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;steam 商店购买&lt;/li&gt;&#xA;&lt;li&gt;是模仿 macos 得 dock 和顶部栏得&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://www.wallpaperengine.io/zh-hans&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://www.wallpaperengine.io/zh-hans&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;steam 商店购买&lt;/li&gt;&#xA;&lt;li&gt;让一个视频成为桌面背景&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;实用工具&#34;&gt;&lt;span&gt;实用工具&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#%e5%ae%9e%e7%94%a8%e5%b7%a5%e5%85%b7&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h2&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://www.flowlauncher.com/&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://www.flowlauncher.com/&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;快速启动工具， 类似 macos里面得 alfred&lt;/li&gt;&#xA;&lt;li&gt;使用快捷键可以在屏幕中间打开一个悬浮得小得搜索框，用于快速启动程序和打开文件&lt;/li&gt;&#xA;&lt;li&gt;提供插件机制， 可以安装各种各样得插件&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://devtoys.app/&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://devtoys.app/&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;包含了大量开发中可用得小工具：&lt;/li&gt;&#xA;&lt;li&gt;字符串转义，反转义&lt;/li&gt;&#xA;&lt;li&gt;json 格式化，语法高亮&lt;/li&gt;&#xA;&lt;li&gt;文本比较&lt;/li&gt;&#xA;&lt;li&gt;url/jwt 编码解码工具&lt;/li&gt;&#xA;&lt;li&gt;和其他很多&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;</description>
    </item>
    <item>
      <title>使用docker搭建komga   个人漫画，电子书库</title>
      <link>https://fantasyplayer.link/periphery/%E4%BD%BF%E7%94%A8docker%E6%90%AD%E5%BB%BAkomga---%E4%B8%AA%E4%BA%BA%E6%BC%AB%E7%94%BB%E7%94%B5%E5%AD%90%E4%B9%A6%E5%BA%93/</link>
      <pubDate>Sat, 08 Mar 2025 21:00:33 +0800</pubDate><author>aincvy@gmail.com (Aincvy)</author>
      <guid>https://fantasyplayer.link/periphery/%E4%BD%BF%E7%94%A8docker%E6%90%AD%E5%BB%BAkomga---%E4%B8%AA%E4%BA%BA%E6%BC%AB%E7%94%BB%E7%94%B5%E5%AD%90%E4%B9%A6%E5%BA%93/</guid>
      <description>&lt;h2 class=&#34;heading-element&#34; id=&#34;简述&#34;&gt;&lt;span&gt;简述&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#%e7%ae%80%e8%bf%b0&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;项目主页：  &lt;a href=&#34;https://github.com/gotson/komga&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://github.com/gotson/komga&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;这是一个 漫画，电子书得媒体服务器。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;支持 CBZ, CBR, PDF and EPUB 文件&lt;/li&gt;&#xA;&lt;li&gt;提供 OPDS v1, v2 支持&lt;/li&gt;&#xA;&lt;li&gt;提供 web 阅读器， 虽然不太好用。&lt;/li&gt;&#xA;&lt;li&gt;支持 mihon, koreader 等安卓阅读器&lt;/li&gt;&#xA;&lt;li&gt;ios 也有相应得阅读器软件。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;主要内容&#34;&gt;&lt;span&gt;主要内容&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#%e4%b8%bb%e8%a6%81%e5%86%85%e5%ae%b9&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h2&gt;&lt;h3 class=&#34;heading-element&#34; id=&#34;安装&#34;&gt;&lt;span&gt;安装&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#%e5%ae%89%e8%a3%85&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h3&gt;&lt;p&gt;可见官方文档：  &lt;a href=&#34;https://komga.org/docs/installation/docker&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://komga.org/docs/installation/docker&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;笔者使用得 docker-compose.yaml 为：&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;3.3&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;services&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;komga&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;gotson/komga&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;container_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;komga&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;l&#34;&gt;./data/config:/config&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;l&#34;&gt;./data/content:/data&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;m&#34;&gt;25600&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;25600&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;1000:1000&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;-&amp;ensp;&lt;span class=&#34;l&#34;&gt;TZ=Asia/Shanghai&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;restart&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&amp;ensp;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;unless-stopped&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;em&gt;如果当前用户不是root,则需要先创建./data/config和./data/content目录。&lt;/em&gt;&lt;/p&gt;&#xA;&lt;p&gt;使用 &lt;code&gt;docker&amp;ensp;compose&amp;ensp;up&amp;ensp;-d&lt;/code&gt; 命令 即可启动容器。&lt;/p&gt;&#xA;&lt;p&gt;将漫画， 电子书文件放入 ./data/content 目录即可。&lt;br&gt;&#xA;参考示例： 哆啦A梦得全部漫画可以放到  &lt;code&gt;./data/content/哆啦A梦/&lt;/code&gt;  里面， 这样会自动在komga 里面建立一个系列。 &lt;br&gt;&#xA;&lt;em&gt;需要在komga得web界面里面添加Library，路径填写&lt;code&gt;/data&lt;/code&gt;即可。&lt;/em&gt;&lt;/p&gt;&#xA;&lt;h3 class=&#34;heading-element&#34; id=&#34;nginx-反代&#34;&gt;&lt;span&gt;nginx 反代&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#nginx-%e5%8f%8d%e4%bb%a3&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h3&gt;&lt;p&gt;参考 nginx 反代配置 ：&lt;/p&gt;&#xA;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#&amp;ensp;Upstream&amp;ensp;where&amp;ensp;your&amp;ensp;authentik&amp;ensp;server&amp;ensp;is&amp;ensp;hosted.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;upstream&amp;ensp;komgaserver&amp;ensp;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;server&amp;ensp;your_local_ip:25600;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;#&amp;ensp;your_local_ip&amp;ensp;使用你得&amp;ensp;ip&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;#&amp;ensp;Improve&amp;ensp;performance&amp;ensp;by&amp;ensp;keeping&amp;ensp;some&amp;ensp;connections&amp;ensp;alive.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;keepalive&amp;ensp;10;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server&amp;ensp;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;#&amp;ensp;HTTP&amp;ensp;server&amp;ensp;config&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;listen&amp;ensp;81;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;server_name&amp;ensp;your_server_name;&amp;ensp;&amp;ensp;&amp;ensp;#&amp;ensp;your_server_name&amp;ensp;使用你得域名&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;#&amp;ensp;301&amp;ensp;redirect&amp;ensp;to&amp;ensp;HTTPS&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;return&amp;ensp;301&amp;ensp;https://$host$request_uri;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server&amp;ensp;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;#&amp;ensp;HTTPS&amp;ensp;server&amp;ensp;config&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;listen&amp;ensp;443&amp;ensp;ssl&amp;ensp;http2;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;server_name&amp;ensp;your_server_name;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;#&amp;ensp;your_server_name&amp;ensp;使用你得域名&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;#&amp;ensp;TLS&amp;ensp;certificates&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;ssl_certificate&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;/root/cert/acme/fullchain.pem;&amp;ensp;&amp;ensp;&amp;ensp;#&amp;ensp;&amp;ensp;你得&amp;ensp;ssl&amp;ensp;证书&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;ssl_certificate_key&amp;ensp;/root/cert/acme/your_pem_file;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;#&amp;ensp;&amp;ensp;你得&amp;ensp;ssl&amp;ensp;证书&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;add_header&amp;ensp;Strict-Transport-Security&amp;ensp;&amp;#34;max-age=63072000&amp;#34;&amp;ensp;always;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;location&amp;ensp;/&amp;ensp;{&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;proxy_pass&amp;ensp;http://komgaserver;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;proxy_http_version&amp;ensp;1.1;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;proxy_set_header&amp;ensp;X-Forwarded-Proto&amp;ensp;$scheme;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;proxy_set_header&amp;ensp;X-Forwarded-For&amp;ensp;$proxy_add_x_forwarded_for;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;#&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;proxy_set_header&amp;ensp;X-Forwarded-Port&amp;ensp;$server_port;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;proxy_set_header&amp;ensp;X-Forwarded-Host&amp;ensp;$http_host;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;proxy_set_header&amp;ensp;Host&amp;ensp;$http_host;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;proxy_set_header&amp;ensp;Upgrade&amp;ensp;$http_upgrade;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;proxy_set_header&amp;ensp;Connection&amp;ensp;$connection_upgrade_keepalive;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;ensp;&amp;ensp;&amp;ensp;&amp;ensp;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;其他得一些问题：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;非标准https 端口有问题  解决方法：  &lt;a href=&#34;https://github.com/gotson/komga/issues/1735#issuecomment-2409000639&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://github.com/gotson/komga/issues/1735#issuecomment-2409000639&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 class=&#34;heading-element&#34; id=&#34;缺点&#34;&gt;&lt;span&gt;缺点&lt;/span&gt;&#xD;&#xA;  &lt;a href=&#34;#%e7%bc%ba%e7%82%b9&#34; class=&#34;heading-mark&#34;&gt;&#xD;&#xA;    &lt;svg class=&#34;octicon octicon-link&#34; viewBox=&#34;0 0 16 16&#34; version=&#34;1.1&#34; width=&#34;16&#34; height=&#34;16&#34; aria-hidden=&#34;true&#34;&gt;&lt;path d=&#34;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&#34;&gt;&lt;/path&gt;&lt;/svg&gt;&#xD;&#xA;  &lt;/a&gt;&#xD;&#xA;&lt;/h2&gt;&lt;p&gt;几个阅读器， 各有各得问题。。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;mihon 不能进行页级得同步， 只能按本同步进度，除此之外， 感觉体验是最好得。   &lt;em&gt;&lt;a href=&#34;https://github.com/mihonapp/mihon/issues/236&#34;target=&#34;_blank&#34; rel=&#34;external nofollow noopener noreferrer&#34;&gt;https://github.com/mihonapp/mihon/issues/236&lt;/a&gt; 提供了一个可以实现页级同步得pr，但是目前并没有合并进去。&lt;/em&gt;&lt;/li&gt;&#xA;&lt;li&gt;koreader 能按页同步， 但是需要先把文件下载到本地， 如果使用 opds 进行页面流式传输是没有同步得， opds 得阅读界面和本地文件得阅读界面不一样，很垃圾。&lt;/li&gt;&#xA;&lt;li&gt;web 阅读器不能记住设置， 每次都要重新设置一下翻页模式。&lt;/li&gt;&#xA;&lt;li&gt;电子书支持 epub 和pdf 文件格式， 但是在web阅读器里面， pdf 会被渲染成图片， 即使pdf原来得文件是文字也会。  epub得支持则还不错。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;</description>
    </item>
  </channel>
</rss>
